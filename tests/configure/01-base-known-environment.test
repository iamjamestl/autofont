#
# Base Test w/ Known Environment
# Copyright (C) 2017 James T. Lee
#
# This software may be modified and distributed under the terms
# of the MIT license.  See the LICENSE file for details.
#
# The configure script should run without environment variables or command line
# arguments and run to completion when all of the requirements are available.
#

# Include a set of common test functions
source "$HELPERS"

# Establish expectations
expected_fontmake="bin/fontmake"
expected_python="bin/python"

# Simulate known environment
mkdir bin
touch bin/fontmake bin/python
chmod +x bin/fontmake bin/python
export PATH="bin:${PATH}"

# Perform the action under test
configure

# Read the results
source "$RESULTS"

# Validate the expectations
[[ $CONFIGURE_STATUS == 0 &&
   $FONTMAKE == $expected_fontmake &&
   $PYTHON == $expected_python ]]

# vi: ft=sh
